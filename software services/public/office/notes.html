<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLSC Notes</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #1a1a1a;
            color: #fff;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        header {
            background: #7719aa;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo { font-size: 18px; font-weight: bold; color: #fff; }
        .header-actions { display: flex; gap: 10px; }
        .header-btn {
            padding: 8px 16px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 4px;
            color: #fff;
            font-size: 13px;
            cursor: pointer;
        }
        .header-btn:hover { background: rgba(255,255,255,0.2); }
        .main-container {
            flex: 1;
            display: flex;
            overflow: hidden;
        }
        .sidebar {
            width: 280px;
            background: #252525;
            border-right: 1px solid #333;
            display: flex;
            flex-direction: column;
        }
        .search-box {
            padding: 15px;
            border-bottom: 1px solid #333;
        }
        .search-box input {
            width: 100%;
            padding: 10px 15px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 4px;
            color: #fff;
            font-size: 14px;
        }
        .search-box input:focus { outline: none; border-color: #7719aa; }
        .notes-list {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }
        .note-item {
            padding: 15px;
            background: #1a1a1a;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            border: 2px solid transparent;
        }
        .note-item:hover { border-color: #444; }
        .note-item.active { border-color: #7719aa; }
        .note-item h4 {
            font-size: 14px;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .note-item p {
            font-size: 12px;
            color: #888;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .note-item .date {
            font-size: 11px;
            color: #666;
            margin-top: 8px;
        }
        .add-note-btn {
            margin: 15px;
            padding: 12px;
            background: #7719aa;
            border: none;
            border-radius: 8px;
            color: #fff;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }
        .add-note-btn:hover { background: #8b2bc4; }
        .editor-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #2a2a2a;
        }
        .note-header {
            padding: 20px;
            border-bottom: 1px solid #333;
        }
        .note-title {
            width: 100%;
            padding: 10px 0;
            background: transparent;
            border: none;
            color: #fff;
            font-size: 24px;
            font-weight: bold;
            outline: none;
        }
        .note-title::placeholder { color: #666; }
        .note-editor {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        .note-content {
            width: 100%;
            height: 100%;
            background: transparent;
            border: none;
            color: #ccc;
            font-size: 16px;
            line-height: 1.8;
            resize: none;
            outline: none;
        }
        .note-content::placeholder { color: #666; }
        .empty-state {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 18px;
        }
        .note-actions {
            padding: 15px 20px;
            border-top: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .note-actions span { color: #666; font-size: 12px; }
        .delete-btn {
            padding: 8px 16px;
            background: #ef4444;
            border: none;
            border-radius: 4px;
            color: #fff;
            font-size: 13px;
            cursor: pointer;
        }
        .delete-btn:hover { background: #dc2626; }
        @media (max-width: 768px) {
            .sidebar { width: 100%; position: absolute; z-index: 10; height: 100%; display: none; }
            .sidebar.show { display: flex; }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">BLSC Notes</div>
        <div class="header-actions">
            <button class="header-btn" onclick="exportNotes()">Export All</button>
            <a href="index.html" class="header-btn" style="text-decoration:none">Back</a>
        </div>
    </header>

    <div class="main-container">
        <div class="sidebar" id="sidebar">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Search notes..." oninput="searchNotes()">
            </div>
            <div class="notes-list" id="notesList"></div>
            <button class="add-note-btn" onclick="addNote()">+ New Note</button>
        </div>

        <div class="editor-area" id="editorArea">
            <div class="empty-state" id="emptyState">Select a note or create a new one</div>
            <div id="noteEditor" style="display:none;flex:1;display:none;flex-direction:column">
                <div class="note-header">
                    <input type="text" class="note-title" id="noteTitle" placeholder="Note title..." oninput="saveNote()">
                </div>
                <div class="note-editor">
                    <textarea class="note-content" id="noteContent" placeholder="Start writing..." oninput="saveNote()"></textarea>
                </div>
                <div class="note-actions">
                    <span id="lastSaved">Auto-saved</span>
                    <button class="delete-btn" onclick="deleteNote()">Delete Note</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let notes = [];
        let currentNoteId = null;

        function loadNotes() {
            const saved = localStorage.getItem('blsc_notes');
            if (saved) {
                notes = JSON.parse(saved);
            }
            renderNotesList();
        }

        function saveNotes() {
            localStorage.setItem('blsc_notes', JSON.stringify(notes));
        }

        function renderNotesList(filter = '') {
            const list = document.getElementById('notesList');
            const filtered = notes.filter(n => 
                n.title.toLowerCase().includes(filter.toLowerCase()) ||
                n.content.toLowerCase().includes(filter.toLowerCase())
            );
            
            list.innerHTML = filtered.map(note => `
                <div class="note-item ${note.id === currentNoteId ? 'active' : ''}" onclick="selectNote('${note.id}')">
                    <h4>${note.title || 'Untitled'}</h4>
                    <p>${note.content.substring(0, 50) || 'No content'}</p>
                    <div class="date">${new Date(note.updated).toLocaleDateString()}</div>
                </div>
            `).join('');
        }

        function addNote() {
            const note = {
                id: Date.now().toString(),
                title: '',
                content: '',
                created: Date.now(),
                updated: Date.now()
            };
            notes.unshift(note);
            saveNotes();
            selectNote(note.id);
            renderNotesList();
        }

        function selectNote(id) {
            currentNoteId = id;
            const note = notes.find(n => n.id === id);
            if (note) {
                document.getElementById('emptyState').style.display = 'none';
                document.getElementById('noteEditor').style.display = 'flex';
                document.getElementById('noteTitle').value = note.title;
                document.getElementById('noteContent').value = note.content;
                renderNotesList(document.getElementById('searchInput').value);
            }
        }

        function saveNote() {
            if (!currentNoteId) return;
            const note = notes.find(n => n.id === currentNoteId);
            if (note) {
                note.title = document.getElementById('noteTitle').value;
                note.content = document.getElementById('noteContent').value;
                note.updated = Date.now();
                saveNotes();
                document.getElementById('lastSaved').textContent = 'Saved just now';
                renderNotesList(document.getElementById('searchInput').value);
            }
        }

        function deleteNote() {
            if (!currentNoteId) return;
            if (confirm('Delete this note?')) {
                notes = notes.filter(n => n.id !== currentNoteId);
                saveNotes();
                currentNoteId = null;
                document.getElementById('emptyState').style.display = 'flex';
                document.getElementById('noteEditor').style.display = 'none';
                renderNotesList();
            }
        }

        function searchNotes() {
            const query = document.getElementById('searchInput').value;
            renderNotesList(query);
        }

        function exportNotes() {
            const data = JSON.stringify(notes, null, 2);
            const blob = new Blob([data], { type: 'application/json' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'blsc-notes.json';
            a.click();
        }

        loadNotes();
    </script>
</body>
</html>
